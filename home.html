<!doctype html>
<!--[if lt IE 7]> <html class="ie6 oldie"> <![endif]-->
<!--[if IE 7]>    <html class="ie7 oldie"> <![endif]-->
<!--[if IE 8]>    <html class="ie8 oldie"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title></title>

<link rel="stylesheet" type="text/css" href="css/style.css">
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css" />
<script src="js/jquery-1.9.1.min.js"></script>
<script src="js/jquery.mobile-1.3.2.min.js"></script>
<script src="js/respond.min.js"></script>
<script src="js/script.js"></script>
<script>
$(document).ready(function(e) {
	$("#next").hide();
    $('.pregnantblock').hide();
    $('.lactatingblock').hide();
    $('.menopauseblock').hide();

    $('#calrecomm').text('mg/day');

var namesel=localStorage.getItem("name");
var agesel=localStorage.getItem("age");
var gendersel=localStorage.getItem("gender");
var pregsel=localStorage.getItem("preg");
var lactsel=localStorage.getItem("lact");
var menopausesel=localStorage.getItem("menopause");

if (namesel !== null) {$('#name').val(namesel); }
if (agesel !== null) {$('#age').val(agesel);}

if(gendersel=='male'){ document.aboutform.gender[0].checked = true;
$("#gender_0").checkboxradio("refresh");
						$('.pregnantblock').hide();
            $('.lactatingblock').hide();
            $('.menopauseblock').hide();
						
/*            $('input[name=pregnant]').attr("disabled", true);
            $('input[name=lactating]').attr("disabled", true);
            $('input[name=menopause]').attr("disabled", true);*/
}
else if(gendersel=='female'){
document.aboutform.gender[1].checked = true;
$("#gender_1").checkboxradio("refresh");
       			$('.pregnantblock').show();
            $('.lactatingblock').show();
            $('.menopauseblock').show();
/*			    $('input[name=pregnant]').attr("disabled", false);
            $('input[name=lactating]').attr("disabled", false);
            $('input[name=menopause]').attr("disabled", false);	  */    
}

if(pregsel=='no'){ 
document.aboutform.pregnant[0].checked = true;
$("#pregnant_0").checkboxradio("refresh");
}
else if(pregsel=='yes'){

document.aboutform.pregnant[1].checked = true;
$("#pregnant_1").checkboxradio("refresh");
}
if(lactsel=='no'){ 

document.aboutform.lactating[0].checked = true;
$("#lactating_0").checkboxradio("refresh");
}
else if(lactsel=='yes'){
document.aboutform.lactating[1].checked = true;
$("#lactating_1").checkboxradio("refresh");
}
if(menopausesel=='no'){ 
document.aboutform.menopause[0].checked = true;
$("#menopause_0").checkboxradio("refresh");
}
else if(menopausesel=='yes'){

document.aboutform.menopause[1].checked = true;
$("#menopause_1").checkboxradio("refresh");
}


    $(".submit-btn").click(function (e) {
        var name = $("#name").val();
        var age = $("#age").val();
        var gender = $("input[name='gender']:checked").val();
        var preg = $("input[name='pregnant']:checked").val();
        var lact = $("input[name='lactating']:checked").val();
        var menopause = $("input[name='menopause']:checked").val();
				localStorage.setItem("name", name);
        localStorage.setItem("age", age);
        localStorage.setItem("gender", gender);
        localStorage.setItem("preg", preg);
        localStorage.setItem("lact", lact);
        localStorage.setItem("menopause", menopause);
        var regex = /^[a-zA-Z]*$/;

        if (age == '') {
            alert('Please enter valid age');
            document.aboutform.age.focus();
        } else if (name == '') {
            alert('Please enter valid name');
            document.aboutform.name.focus();
        } else if (!regex.test(document.aboutform.name.value)) {
            alert('Please enter valid name');
            document.aboutform.name.focus();
        } else {
					
 						window.location='recallentery.html';          
        }
    });
    /*    $("#age").bind("change", function () {
        var age = $("#age").val();
    }); //age change	
*/

    $("input[name='gender']").change(function () {
        var gender = $("input[name='gender']:checked").val();
        if (gender == 'male') {
            $('.pregnantblock').hide();
            $('.lactatingblock').hide();
            $('.menopauseblock').hide();
localStorage.removeItem("preg");  
localStorage.removeItem("lact");  
localStorage.removeItem("menopause"); 

        }
        if (gender == 'female') {
            $('.pregnantblock').show();
            $('.lactatingblock').show();
            $('.menopauseblock').show();
            $('input[name=pregnant]').attr("disabled", false);
            $('input[name=lactating]').attr("disabled", false);
            $('input[name=menopause]').attr("disabled", false);

        }
    }); //gender change

    $(".clear-btn").on('click', function () {
			

        $('#name').val('');
        $('#age').val('');
				$('#calrecomm').text('mg/day');
document.aboutform.gender[0].checked = true;
$("#gender_0").checkboxradio("refresh");
document.aboutform.pregnant[0].checked = true;
$("#pregnant_0").checkboxradio("refresh");
document.aboutform.lactating[0].checked = true;
$("#lactating_0").checkboxradio("refresh");
document.aboutform.menopause[0].checked = true;
$("#menopause_0").checkboxradio("refresh");

		document.aboutform.gender[1].checked = false;
		$("#gender_1").checkboxradio("refresh");
		document.aboutform.pregnant[1].checked = false;
		$("#pregnant_1").checkboxradio("refresh");
		document.aboutform.lactating[1].checked = false;
		$("#lactating_1").checkboxradio("refresh");
		document.aboutform.menopause[1].checked = false;
		$("#menopause_0").checkboxradio("refresh");	
		
			      $('.pregnantblock').hide();
            $('.lactatingblock').hide();
            $('.menopauseblock').hide();
									localStorage.removeItem('name');
			localStorage.removeItem('age');
			localStorage.removeItem('gender');
		  localStorage.removeItem('preg');
			localStorage.removeItem('lact');
			localStorage.removeItem('menopause');
    });

});

</script>
</head>
<body>
<div class="gridContainer clearfix">
 <div id="maincontainer">
  <div id="insidecont">
   <div id="header"  data-role="header">
    <p>Tell us about yourself</p>
   </div>
   <div id="formcontent">
    <form action="" method="" name="aboutform" id="aboutform">
     <div data-role="fieldcontain">
      <label>Name</label>
      <input name="name" type="text" id="name">
     </div>
     <div data-role="fieldcontain">
      <label>Age</label>
      <input name="age" type="number" id="age" >
     </div>
     <div data-role="fieldcontain">
       <label>Gender</label>
      <fieldset data-role="controlgroup">
     
       <input type="radio" name="gender" value="male" id="gender_0" class="gender" >
       <label for="gender_0">Male &nbsp; &nbsp;</label>
       <input type="radio" name="gender" value="female" id="gender_1" class="gender" >
       <label for="gender_1">Female</label>
      </fieldset>
     </div>
     <div data-role="fieldcontain"  class="pregnantblock">
      <label>Are you pregnant?</label>
      <fieldset data-role="controlgroup">
       <input type="radio" name="pregnant" value="no" id="pregnant_0" class="pregnant">
       <label for="pregnant_0"> No &nbsp; </label>
       <input type="radio" name="pregnant" value="yes" id="pregnant_1" class="pregnant">
       <label for="pregnant_1"> Yes</label>
      </fieldset>
     </div>
     <div data-role="fieldcontain"  class="lactatingblock">
      <label>Are you breastfeeding?</label>
      <fieldset data-role="controlgroup">
       <input type="radio" name="lactating" value="no" id="lactating_0" class="lactating">
       <label for="lactating_0"> No &nbsp;</label>
       <input type="radio" name="lactating" value="yes" id="lactating_1" class="lactating">
       <label for="lactating_1"> Yes</label>
      </fieldset>
     </div>
     <div data-role="fieldcontain" class="menopauseblock">
      <label>Have you achieved menopause?</label>
      <fieldset data-role="controlgroup">
       <input type="radio" name="menopause" value="no" id="menopause_0" class="menopause">
       <label for="menopause_0"> No &nbsp;</label>
       <input type="radio" name="menopause" value="yes" id="menopause_1" class="menopause">
       <label for="menopause_1"> Yes</label>
      </fieldset>
     </div>
     <div class="btn-container">
      <input name="clearbtn" type="button" value="Reset" class="clear-btn" data-role="none">
      <input name="submitbtn" type="button" value="Submit" class="submit-btn" data-role="none">
     
     </div>
    </form>
   </div>
  </div>
  <div class="clear">
  </div>
  </div>
 </div>

</body>
</html>
